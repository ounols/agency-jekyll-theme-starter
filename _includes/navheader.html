  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
	  <a class="navbar-brand js-scroll-trigger" href="#page-top">
          {%- if site.logo -%}
            <img height="{{ site.logo.height | default: 52 }}" src="{{ site.logo.path }}"/>
          {%- else -%}
            {{ site.title }}
          {%- endif -%}
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ml-auto">
        {% for link in site.data.navigation[site.locale].nav %}
          <li class="nav-item">
            {%- if link.url -%}
              <a class="nav-link js-scroll-trigger" href="{{ link.url }}">{{ link.title }}</a>
            {%- else if link.section -%}
              <a class="nav-link js-scroll-trigger" href="#{{ link.section }}">{{ link.title }}</a>
            {%- else -%}
              <a class="nav-link js-scroll-trigger" href="#">{{ link.title }}</a>
            {%- endif -%}
          </li>
        {% endfor %}
        </ul>
      </div>
    </div>
  </nav>
  <!-- End Navigation -->
  
  <!-- Header -->
  <header class="masthead" style="background-color: black;">
    <iframe 
      id="portfolio-banner"
      src="https://ounols.github.io/portfolio-banner" 
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: -1;">
    </iframe>
    <div class="container">
      <div class="intro-text">
	  {%- if site.data.sitetext[site.locale].header.title -%}
        <div class="intro-lead-in">{{ site.data.sitetext[site.locale].header.title | markdownify }}</div>
	  {%- endif -%}
	  {%- if site.data.sitetext[site.locale].header.text -%}
        <div class="intro-heading text-uppercase">{{ site.data.sitetext[site.locale].header.text | markdownify }}</div>
	  {%- endif -%}
	  {%- if site.data.sitetext[site.locale].header.button -%}
        <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="{{ site.data.sitetext[site.locale].header.buttonlink }}">{{ site.data.sitetext[site.locale].header.button }}</a>
	  {%- endif -%}
      </div>
    </div>
    <div class="scroll-down" onclick="scrollToAbout()">
      <div class="scroll-text">Scroll Down</div>
      <div class="scroll-icon">
        <i class="fas fa-chevron-down"></i>
      </div>
    </div>

    <script>
      function scrollToAbout() {
        const aboutSection = document.querySelector('#about');
        if (aboutSection) {
          aboutSection.scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
          });
        } else {
          // fallback: scroll down one viewport height
          window.scrollBy({
            top: window.innerHeight,
            behavior: 'smooth'
          });
        }
      }

      // Iframe visibility control using Intersection Observer
      document.addEventListener('DOMContentLoaded', function() {
        const iframe = document.getElementById('portfolio-banner');
        const header = document.querySelector('header.masthead');
        
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              // Header is visible - activate iframe and resume Emscripten loop
              iframe.style.display = 'block';
              iframe.contentWindow.postMessage({action: 'resume'}, '*');
            } else {
              // Header is not visible - pause Emscripten loop and hide iframe
              iframe.contentWindow.postMessage({action: 'pause'}, '*');
              iframe.style.display = 'none';
            }
          });
        }, {
          threshold: 0.01 // Trigger when 1% of the header is visible
        });
        
        observer.observe(header);
      });
    </script>
  </header>
  <!-- End Header -->